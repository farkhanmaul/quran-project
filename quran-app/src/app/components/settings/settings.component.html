<div class="settings-container">
  <div class="settings-header">
    <h1>Settings</h1>
    <p>Customize your Quran reading experience</p>
  </div>

  <div class="settings-content">
    
    <!-- Appearance Settings -->
    <div class="settings-section">
      <h2>
        <i class="section-icon">üé®</i>
        Appearance
      </h2>
      
      <!-- Theme Selection -->
      <div class="setting-item">
        <div class="setting-label">
          <h3>Theme</h3>
          <p>Choose your preferred color scheme</p>
        </div>
        <div class="theme-options">
          <button 
            *ngFor="let theme of themes"
            (click)="onThemeChange(theme.value as any)"
            [class.active]="settings.theme === theme.value"
            class="theme-option">
            <i class="theme-icon">{{ theme.icon }}</i>
            <span>{{ theme.name }}</span>
          </button>
        </div>
      </div>

      <!-- Language Selection -->
      <div class="setting-item">
        <div class="setting-label">
          <h3>Language</h3>
          <p>Select your preferred interface language</p>
        </div>
        <div class="language-options">
          <button 
            *ngFor="let lang of languages"
            (click)="onLanguageChange(lang.code)"
            [class.active]="settings.language === lang.code"
            class="language-option">
            <span class="flag">{{ lang.flag }}</span>
            <span class="name">{{ lang.name }}</span>
          </button>
        </div>
      </div>
    </div>

    <!-- Reading Settings -->
    <div class="settings-section">
      <h2>
        <i class="section-icon">üìñ</i>
        Reading Settings
      </h2>

      <!-- Font Size -->
      <div class="setting-item">
        <div class="setting-label">
          <h3>Font Size</h3>
          <p>Adjust Arabic text size for comfortable reading</p>
        </div>
        <div class="font-size-options">
          <button 
            *ngFor="let size of fontSizes"
            (click)="onFontSizeChange(size.value as any)"
            [class.active]="settings.fontSize === size.value"
            class="font-size-option">
            <span class="size-name">{{ size.name }}</span>
            <span class="size-preview" [style.font-size]="size.size">Aa</span>
          </button>
        </div>
      </div>

      <!-- Arabic Font -->
      <div class="setting-item">
        <div class="setting-label">
          <h3>Arabic Font</h3>
          <p>Choose your preferred Arabic script style</p>
        </div>
        <div class="arabic-font-options">
          <button 
            *ngFor="let font of arabicFonts"
            (click)="onArabicFontChange(font.value as any)"
            [class.active]="settings.arabicFont === font.value"
            class="arabic-font-option">
            <div class="font-info">
              <span class="font-name">{{ font.name }}</span>
              <span class="font-preview" [class]="'font-' + font.value">{{ font.preview }}</span>
            </div>
          </button>
        </div>
      </div>

      <!-- Display Options -->
      <div class="setting-item">
        <div class="setting-label">
          <h3>Display Options</h3>
          <p>Choose what to show while reading</p>
        </div>
        <div class="toggle-options">
          <label class="toggle-option">
            <input 
              type="checkbox" 
              [(ngModel)]="settings.showTranslation"
              (change)="onToggleChange('showTranslation')">
            <span class="toggle-slider"></span>
            <div class="toggle-label">
              <span class="label-text">Show Translation</span>
              <span class="label-desc">Display English translation below Arabic text</span>
            </div>
          </label>

          <label class="toggle-option">
            <input 
              type="checkbox" 
              [(ngModel)]="settings.showTransliteration"
              (change)="onToggleChange('showTransliteration')">
            <span class="toggle-slider"></span>
            <div class="toggle-label">
              <span class="label-text">Show Transliteration</span>
              <span class="label-desc">Display phonetic pronunciation guide</span>
            </div>
          </label>
        </div>
      </div>
    </div>

    <!-- Audio Settings -->
    <div class="settings-section">
      <h2>
        <i class="section-icon">üîä</i>
        Audio Settings
      </h2>

      <div class="setting-item">
        <div class="toggle-options">
          <label class="toggle-option">
            <input 
              type="checkbox" 
              [(ngModel)]="settings.autoplay"
              (change)="onToggleChange('autoplay')">
            <span class="toggle-slider"></span>
            <div class="toggle-label">
              <span class="label-text">Auto-play Audio</span>
              <span class="label-desc">Automatically play next ayah after current one finishes</span>
            </div>
          </label>
        </div>
      </div>
    </div>

    <!-- Notification Settings -->
    <div class="settings-section">
      <h2>
        <i class="section-icon">üîî</i>
        Notifications
      </h2>

      <div class="setting-item">
        <div class="toggle-options">
          <label class="toggle-option">
            <input 
              type="checkbox" 
              [(ngModel)]="settings.notifications"
              (change)="onToggleChange('notifications')">
            <span class="toggle-slider"></span>
            <div class="toggle-label">
              <span class="label-text">Enable Notifications</span>
              <span class="label-desc">Allow app to send notifications</span>
            </div>
          </label>

          <label class="toggle-option">
            <input 
              type="checkbox" 
              [(ngModel)]="settings.readingReminders"
              (change)="onToggleChange('readingReminders')"
              [disabled]="!settings.notifications">
            <span class="toggle-slider"></span>
            <div class="toggle-label">
              <span class="label-text">Reading Reminders</span>
              <span class="label-desc">Get reminded to read Quran daily</span>
            </div>
          </label>

          <label class="toggle-option">
            <input 
              type="checkbox" 
              [(ngModel)]="settings.prayerTimeNotifications"
              (change)="onToggleChange('prayerTimeNotifications')"
              [disabled]="!settings.notifications">
            <span class="toggle-slider"></span>
            <div class="toggle-label">
              <span class="label-text">Prayer Time Notifications</span>
              <span class="label-desc">Get notified when it's time to pray</span>
            </div>
          </label>
        </div>
      </div>
    </div>

    <!-- Data Management -->
    <div class="settings-section">
      <h2>
        <i class="section-icon">üíæ</i>
        Data Management
      </h2>

      <div class="setting-item">
        <div class="setting-label">
          <h3>Backup & Restore</h3>
          <p>Export or import your settings</p>
        </div>
        <div class="data-actions">
          <button class="action-btn export-btn" (click)="exportSettings()">
            <i>üì§</i>
            <span>Export Settings</span>
          </button>
          
          <label class="action-btn import-btn">
            <i>üì•</i>
            <span>Import Settings</span>
            <input 
              type="file" 
              accept=".json" 
              (change)="importSettings($event)"
              style="display: none;">
          </label>
        </div>
      </div>

      <div class="setting-item">
        <div class="setting-label">
          <h3>Reset Settings</h3>
          <p>Restore all settings to their default values</p>
        </div>
        <button class="action-btn reset-btn" (click)="resetSettings()">
          <i>üîÑ</i>
          <span>Reset to Defaults</span>
        </button>
      </div>
    </div>

    <!-- App Info -->
    <div class="settings-section">
      <h2>
        <i class="section-icon">‚ÑπÔ∏è</i>
        About
      </h2>

      <div class="setting-item">
        <div class="app-info">
          <div class="app-logo">
            <span class="logo-icon">üìñ</span>
            <span class="app-name">Quran App</span>
          </div>
          <div class="app-details">
            <p><strong>Version:</strong> 1.0.0</p>
            <p><strong>Built with:</strong> Angular 17</p>
            <p><strong>Last Updated:</strong> {{ new Date().toLocaleDateString() }}</p>
          </div>
        </div>
      </div>
    </div>

  </div>
</div>